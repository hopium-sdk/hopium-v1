:root {
  /* Your original palette */
  --cLight: var(--color-indigo-200);
  --cMid: var(--color-indigo-300);
  --cBlue: var(--color-indigo-400);
  --cIndigo: var(--color-indigo-500);
  --cDeep: var(--color-indigo-600);
  --cDeepest: var(--color-indigo-700);

  /* RGB versions */
  --cLight-rgb: 154, 163, 255;
  --cMid-rgb: 123, 131, 255;
  --cBlue-rgb: 84, 99, 255;
  --cIndigo-rgb: 49, 42, 145;
  --cDeep-rgb: 44, 45, 147;

  --size: 200px;
  --flap: calc(var(--size) * 0.3);
  --flap-angle: 35deg;
}

.cube-stage {
  display: grid;
  place-items: center;
}

.cube-scene {
  width: var(--size);
  height: var(--size);
  perspective: calc(var(--size) * 4);
}

.cube {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transform: rotateX(-18deg) rotateY(25deg);
}

/* Base faces */
.front {
  background: linear-gradient(to bottom, var(--cIndigo) 0%, var(--cDeepest) 100%);
  transform: translateZ(calc(var(--size) / 2));
}
.back {
  background: linear-gradient(to bottom, var(--cDeep) 0%, var(--cDeepest) 100%);
  transform: rotateY(180deg) translateZ(calc(var(--size) / 2));
}
.right {
  background: linear-gradient(to bottom, var(--cBlue) 0%, var(--cDeepest) 100%);
  transform: rotateY(90deg) translateZ(calc(var(--size) / 2));
}
.left {
  background: linear-gradient(to bottom, var(--cMid) 0%, var(--cDeepest) 100%);
  transform: rotateY(-90deg) translateZ(calc(var(--size) / 2));
}
.bottom {
  background: linear-gradient(to bottom, var(--cDeep) 0%, var(--cDeepest) 100%);
  transform: rotateX(-90deg) translateZ(calc(var(--size) / 2));
}

/* No top — open box */

/* Slight inner shading for depth */
.face::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.15);
  opacity: 0.25;
  transform: translateZ(-1px);
}

.face {
  position: absolute;
  inset: 0;
  box-sizing: border-box;
  border-radius: 0;
  backface-visibility: visible;

  /* NEW */
  transform-style: preserve-3d;
  overflow: visible;
}

/* flaps (unchanged basics) */
.flap {
  position: absolute;
  left: 0;
  right: 0;
  height: var(--flap);
  top: 0; /* hinge on top edge */
  transform-origin: top center;
  border-radius: 0;
  box-sizing: border-box;
  background: linear-gradient(to bottom, #7b83ff 0%, #9aa3ff 100%);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}

/* Hinge all flaps on X axis */
.flap-front {
  transform: translateZ(2px) rotateX(calc(var(--flap-angle)));
}
.flap-back {
  opacity: 0;
  transform: translateZ(2px) rotateX(var(--flap-angle));
}
/* CHANGED: were rotateY —> use rotateX so they open upward too */
.flap-right {
  opacity: 0;
  transform: translateZ(2px) rotateX(calc(var(--flap-angle)));
}
.flap-left {
  transform: translateZ(2px) rotateX(calc(var(--flap-angle)));
}
